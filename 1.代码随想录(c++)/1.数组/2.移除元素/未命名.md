

```cpp
class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        int val=nums[0]-1;
        for(int i=0;i<nums.size()-2;i++){
            if(nums[i]==nums[i+1]){
                nums[i+1]=val;
            }
        }
        return removeElement(nums,val);
    }

    int removeElement(vector<int>& nums, int val) {
        int left=0,right=nums.size()-1;
        int num=0;
        while(left<right){
            while(nums[right]==val){
                num+=1;
                right-=1;
            }
            if(nums[left]==val){
                swap(nums[left],nums[right]);
            }
            left+=1;
        }
        return nums.size()-num;
    }
};





```


借助于ai改了很多个版本：

```cpp
class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        if(nums.empty()){
            return 0;
        }
        int val=nums[0]-1;
        for(int slow=0;slow<nums.size();){
            int fast=slow;
            while(fast<nums.size()&&nums[slow]==nums[fast]){
                fast++;
            }
            for(int i=slow+1;i<fast;i++){
                nums[i]=val;
            }
            slow=fast;
        }
        return removeElement(nums,val);
    }

    int removeElement(vector<int>& nums, int val) {
        int slow=0;
        for(int i=0;i<nums.size();i++){
            if(nums[i]!=val){
                nums[slow++]=nums[i];
            }
        }
        return slow;
    }
};

```

我的想法是对的，因为前面的那个算法是不改变顺序的，所以我们只需要保留唯一并且将不唯一的东西赋值为同一个值即可。

我这里就是卡在了如何做到这点上，我这边其实没有很明确的更新slow和fast，也就是对快慢指针并没有很准确地了解。

我操了，我做的是对的，我原本的代码如下：

```cpp
class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        int val=nums[0]-1;
        int fast=0;
        for(int slow=0;slow<nums.size();slow++){
            int current_num=nums[slow];
            if(fast<nums.size()&&nums[slow]==nums[fast]){
                fast++;
            }
            //只需要将if改成while即可，尼玛的，属于是自己眼瞎
            for(int i=slow+1;i<fast;i++){
                nums[i]=val;
            }
            slow=fast-1;
        }
        return removeElement(nums,val);
    }

    int removeElement(vector<int>& nums, int val) {
        int slow=0;
        for(int i=0;i<nums.size();i++){
            if(nums[i]!=val){
                nums[slow++]=nums[i];
            }
        }
        return slow;
    }
};
```