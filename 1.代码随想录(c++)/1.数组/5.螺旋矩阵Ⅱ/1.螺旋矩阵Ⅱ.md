

```cpp
class Solution {
public:
    vector<vector<int>> generateMatrix(int n) {
        vector<vector<int>> ans(n, vector<int>(n, 0));
        int num=1;
        int i=0,j=0;
        
        for(int m=0;m<2*n;m++){
            for(;j<=n-1-m;j++){
                ans[i][j]=num++;
            }
            i+=1;   //
            j-=1;   // 恢复到n-1
            
            for(;i<=n-1-m;i++){
                ans[i][j]=num++;
            }
            i-=1;   // 恢复到n-1
            j-=1;   // 

            for(;j>=m;j--){
                ans[i][j]=num++;
            }
            i-=1;
            j+=1;   // 恢复一位

            for(;i>=m+1;i--){
                ans[i][j]=num++;
            }
            i+=1;
            j+=1;

        }
        return ans;
    }
};
```

一遍过！