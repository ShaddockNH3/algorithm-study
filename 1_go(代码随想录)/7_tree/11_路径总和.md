å–µå•Šï¼ä¸»äººï¼æˆ‘ä»¬æˆåŠŸå•¦ï¼(ï¾‰>Ï‰<)ï¾‰ ðŸŽ‰

ç»è¿‡æˆ‘ä»¬ä¸€æ¬¡åˆä¸€æ¬¡çš„æç¤ºå’Œä¿®æ­£ï¼Œä½ æœ€ç»ˆæŠŠâ€œè·¯å¾„æ€»å’Œâ€è¿™é“é¢˜çš„é€»è¾‘å®Œå…¨ç†é¡ºäº†ï¼ä»Žæœ€å¼€å§‹æœ‰ç‚¹è¿·è·¯çš„æŽ¢é™©å®¶ï¼Œåˆ°çŽ°åœ¨èƒ½æ¸…æ™°ã€å‡†ç¡®åœ°è§„åˆ’è·¯çº¿å¹¶æ‰¾åˆ°å®è—ï¼Œä½ ä»˜å‡ºçš„æ¯ä¸€æ¬¡æ€è€ƒéƒ½é—ªè€€ç€å…‰èŠ’ï¼

è¿™ç»å¯¹æ˜¯ä¸€æ¬¡å«é‡‘é‡è¶…é«˜çš„å­¦ä¹ è¿‡ç¨‹ï¼çŽ°åœ¨ï¼Œå°±è®©æˆ‘ä¸ºä½ æŠŠè¿™æ¬¡èƒœåˆ©çš„æžœå®žï¼Œä»¥åŠæˆ‘ä»¬ä¸€è·¯ä¸Šå­¦åˆ°çš„æ‰€æœ‰å®è´µç»éªŒï¼Œéƒ½æµ“ç¼©åœ¨è¿™ä»½è¶…è¯¦ç»†çš„æœ€ç»ˆç¬”è®°é‡Œå§ï¼

---

### LeetCode 112. è·¯å¾„æ€»å’Œ (Path Sum)

**[é¢˜ç›®é“¾æŽ¥](https://leetcode.cn/problems/path-sum/)**

#### é¢˜ç›®æè¿°

ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root` å’Œä¸€ä¸ªè¡¨ç¤ºç›®æ ‡å’Œçš„æ•´æ•° `targetSum` ã€‚åˆ¤æ–­è¯¥æ ‘ä¸­æ˜¯å¦å­˜åœ¨ **æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹** çš„è·¯å¾„ï¼Œè¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹å€¼ç›¸åŠ ç­‰äºŽç›®æ ‡å’Œ `targetSum` ã€‚å¦‚æžœå­˜åœ¨ï¼Œè¿”å›ž `true` ï¼›å¦åˆ™ï¼Œè¿”å›ž `false` ã€‚

**å¶å­èŠ‚ç‚¹** æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

---

### æˆ‘ä»¬çš„æ€è€ƒä¹‹æ—… â™ª (æœ€ç»ˆçš„å®Œç¾Žè·¯çº¿ï¼)

#### Phase 1: æŽ¢é™©ç­–ç•¥ â€”â€” å›žæº¯çš„åŠ›é‡

è¿™é“é¢˜éžå¸¸é€‚åˆä½¿ç”¨â€œå›žæº¯â€ç®—æ³•æ¥è§£å†³ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªæŽ¢é™©å®¶åœ¨äºŒå‰æ ‘è¿·å®«é‡Œå¯»å®ï¼š

- **å‰è¿›**: æ¯èµ°åˆ°ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œå°±æŠŠè¿™ä¸ªèŠ‚ç‚¹çš„æ•°å€¼æ”¾è¿›èƒŒåŒ…ã€‚
    
- **è®°å½•çŠ¶æ€**: èƒŒåŒ…é‡Œéšæ—¶è®°å½•ç€å½“å‰è·¯å¾„çš„æ€»å’Œã€‚
    
- **åˆ¤æ–­**: åˆ°è¾¾ä¸€ä¸ªè·¯å¾„çš„ç»ˆç‚¹ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰æ—¶ï¼Œæ£€æŸ¥èƒŒåŒ…é‡Œçš„æ€»å’Œæ˜¯å¦ç­‰äºŽç›®æ ‡å€¼ã€‚
    
- **å›žæº¯**: å½“ä¸€ä¸ªæ–¹å‘èµ°åˆ°å¤´ï¼ˆæˆ–è€…å…¶æ‰€æœ‰å­è·¯å¾„éƒ½æŽ¢ç´¢å®Œæ¯•ï¼‰åŽï¼Œè¦é€€å›žåˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶æŠŠå½“åˆæ”¾è¿›èƒŒåŒ…çš„ä¸œè¥¿æ‹¿å‡ºæ¥ï¼Œä»¥ä¿è¯çŠ¶æ€æ­£ç¡®ï¼Œå¥½åŽ»æŽ¢ç´¢åˆ«çš„è·¯å¾„ã€‚
    

#### Phase 2: æŽ¢é™©å®¶çš„è£…å¤‡ â€”â€” å˜é‡ä¸Žå‡½æ•°å®šä¹‰

æ ¹æ®æˆ‘ä»¬çš„ç­–ç•¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›è£…å¤‡ï¼š

1. `res bool`: ä¸€ä¸ªå…¨å±€çš„æ——å¸œï¼Œä¸€æ—¦æ‰¾åˆ°å®è—ï¼Œå°±æŠŠå®ƒç«‹èµ·æ¥ï¼Œé€šçŸ¥æ‰€æœ‰äººå¯ä»¥æ”¶å·¥äº†ã€‚
    
2. `current_sum int`: æˆ‘ä»¬æŽ¢é™©å®¶çš„èƒŒåŒ…ï¼Œç”¨æ¥ç´¯è®¡å½“å‰è·¯å¾„çš„å’Œã€‚
    
3. `backtracking func(*TreeNode)`: æˆ‘ä»¬çš„æŽ¢é™©å®¶æœ¬äººï¼å®ƒæ˜¯ä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œè´Ÿè´£æŽ¢ç´¢è¿·å®«çš„æ¯ä¸€ä¸ªè§’è½ã€‚
    

ä¸ºäº†è®©æŽ¢é™©å®¶ï¼ˆé€’å½’å‡½æ•°ï¼‰èƒ½å¤Ÿè°ƒç”¨è‡ªå·±ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†Goè¯­è¨€é‡Œä¸€ä¸ªéžå¸¸é‡è¦çš„æŠ€å·§ï¼š**å…ˆå£°æ˜Žï¼Œå†å®šä¹‰**ã€‚

Go

```
// 1. å…ˆç”¨ var å£°æ˜Žï¼Œç›¸å½“äºŽåœ¨æŽ¢é™©å®¶åå†Œä¸Šç™»è®°
var backtracking func(*TreeNode, int)
// 2. å†ç”¨ = èµ‹å€¼ï¼Œè¯¦ç»†æè¿°æŽ¢é™©å®¶çš„èƒ½åŠ›å’Œä»»åŠ¡
backtracking = func(node *TreeNode, targetSum int) { ... }
```

è¿™ä¸ªæŠ€å·§å¸®åŠ©æˆ‘ä»¬è§£å†³äº† `undefined: backtracking` çš„è¯­è¨€é—®é¢˜ï¼Œæ˜¯é‡è¦çš„çŸ¥è¯†ç‚¹å“¦ï¼

#### Phase 3: æŽ¢é™©çš„è¯¦ç»†æ­¥éª¤ (ä»£ç é€»è¾‘å…¨è§£æž)

è¿™æ˜¯æˆ‘ä»¬æœ€ç»ˆæ‰“ç£¨å‡ºçš„ã€æœ€å®Œç¾Žçš„æŽ¢é™©æµç¨‹ï¼

1. å‡ºå‘ä¸Žç»ˆæ­¢ (é€’å½’çš„å…¥å£ä¸Žå‡ºå£)
    
    æŽ¢é™©å®¶æ¯åˆ°è¾¾ä¸€ä¸ªæ–°åœ°ç‚¹ nodeï¼Œé¦–å…ˆè¦åˆ¤æ–­ï¼š
    
    - è¿™ä¸ªåœ°æ–¹æ˜¯ä¸æ˜¯ç©ºçš„ (`node == nil`)ï¼Ÿæˆ–è€…åˆ«çš„æŽ¢é™©å®¶æ˜¯ä¸æ˜¯å·²ç»æ‰¾åˆ°äº†å®è— (`res == true`)ï¼Ÿ
        
    - åªè¦æ»¡è¶³ä»»æ„ä¸€ä¸ªæ¡ä»¶ï¼Œå°±æ²¡å¿…è¦å†æŽ¢ç´¢äº†ï¼Œç›´æŽ¥è¿”å›žã€‚è¿™æ˜¯æœ€é«˜æ•ˆçš„å‰ªæžï¼
        
2. å‰è¿›ä¸Žè®°å½• (å¤„ç†å½“å‰èŠ‚ç‚¹)
    
    å¦‚æžœå¯ä»¥ç»§ç»­æŽ¢ç´¢ï¼ŒæŽ¢é™©å®¶å°±æ‰§è¡Œä¸¤ä¸ªåŠ¨ä½œï¼š
    
    - `current_sum += node.Val`: æŠŠå½“å‰èŠ‚ç‚¹çš„å®ç‰©æ”¾è¿›èƒŒåŒ…ã€‚
        
    - `path = append(path, node.Val)`: åœ¨åœ°å›¾ä¸Šç”»ä¸‹è¿™ä¸€æ­¥ã€‚ï¼ˆè¿™ä¸€æ­¥å¯¹äºŽæœ€ç»ˆç»“æžœä¸æ˜¯å¿…éœ€çš„ï¼Œä½†æœ‰åŠ©äºŽæˆ‘ä»¬ç†è§£è·¯å¾„ï¼‰
        
3. åœ¨ç»ˆç‚¹æ£€æŸ¥å®è— (åˆ¤æ–­å¶å­èŠ‚ç‚¹)
    
    è¿™æ˜¯æœ€å…³é”®çš„â€œæ£€æŸ¥æ—¶åˆ»â€ï¼
    
    - `if node.Left == nil && node.Right == nil && current_sum == targetSum`: **åªæœ‰å½“**æˆ‘ä»¬ç«™çš„åœ°æ–¹æ˜¯ä¸€ä¸ª**å¶å­èŠ‚ç‚¹**æ—¶ï¼Œæˆ‘ä»¬æ‰æ£€æŸ¥èƒŒåŒ…é‡Œçš„æ€»å’Œã€‚å¦‚æžœæ€»å’Œè¾¾æ ‡ï¼Œç«‹åˆ»æŠŠ `res` æ——å¸œç«‹èµ·æ¥ï¼
        
4. ç»§ç»­æ·±å…¥æŽ¢ç´¢ (é€’å½’è°ƒç”¨)
    
    æ— è®ºå½“å‰æ˜¯ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œåªè¦è¿˜æ²¡æ‰¾åˆ°å®è—ï¼ŒæŽ¢é™©å®¶å°±è¦ç»§ç»­æ´¾å°åˆ†é˜Ÿå‘ä¸‹æŽ¢ç´¢ï¼š
    
    - `backtracking(node.Left, targetSum)`
        
    - `backtracking(node.Right, targetSum)`
        
5. å®‰å…¨é€€å›ž (å›žæº¯ï¼)
    
    è¿™æ˜¯å›žæº¯ç®—æ³•çš„çµé­‚ï¼ å½“ä¸€ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­è·¯å¾„ï¼ˆå·¦å’Œå³ï¼‰éƒ½æŽ¢ç´¢å®Œæ¯•åŽï¼ŒæŽ¢é™©å®¶å¿…é¡»â€œå®‰å…¨åœ°â€ä»Žè¿™ä¸ªèŠ‚ç‚¹é€€å›žåˆ°ä¸Šä¸€å±‚ã€‚ä¸ºäº†ä¿è¯é€€å›žåŽçŠ¶æ€çš„æ­£ç¡®æ€§ï¼Œå¿…é¡»æ‰§è¡Œï¼š
    
    - `current_sum -= node.Val`: æŠŠå½“å‰èŠ‚ç‚¹çš„å®ç‰©ä»ŽèƒŒåŒ…é‡Œæ‹¿å‡ºåŽ»ã€‚
        
    - path = path[:len(path)-1]: ä»Žåœ°å›¾ä¸Šæ“¦æŽ‰è¿™ä¸€æ­¥ã€‚
        
        è¿™ä¸ªæ“ä½œå¿…é¡»æ— æ¡ä»¶æ‰§è¡Œï¼Œè¿™æ ·æ‰èƒ½ä¿è¯æ— è®ºæ˜¯æŽ¢ç´¢å…„å¼Ÿè·¯å¾„ï¼Œè¿˜æ˜¯è¿”å›žçˆ¶èŠ‚ç‚¹ï¼ŒçŠ¶æ€éƒ½æ˜¯å¹²å‡€ã€æ­£ç¡®çš„ã€‚
        

---

### æœ€ç»ˆä»£ç å®žçŽ° (æˆ‘ä»¬çš„èƒœåˆ©ç»“æ™¶ï¼)

Go

```
/**
 * Definition for a binary tree node.
 * type TreeNode struct {
 * Val int
 * Left *TreeNode
 * Right *TreeNode
 * }
 */
func hasPathSum(root *TreeNode, targetSum int) bool {
    // res æ——å¸œï¼Œä¸€æ—¦ä¸º trueï¼Œæ‰€æœ‰æŽ¢ç´¢éƒ½ä¼šå°½å¿«åœæ­¢
    res := false
    // current_sum èƒŒåŒ…ï¼Œè®°å½•å½“å‰è·¯å¾„å’Œ
    current_sum := 0

    // 1. å…ˆç”¨ var å£°æ˜Žé€’å½’å‡½æ•°å˜é‡
    var backtracking func(*TreeNode)

    // 2. å†ç»™å˜é‡èµ‹å€¼ï¼Œå®šä¹‰å‡½æ•°ä½“
    // (å°ä¼˜åŒ–ï¼štargetSum ä½œä¸ºå¤–éƒ¨å˜é‡ï¼Œåœ¨é—­åŒ…å†…å¯è§ï¼Œæ— éœ€ä½œä¸ºå‚æ•°ä¼ é€’)
    backtracking = func(node *TreeNode) {
        // é«˜æ•ˆçš„å‰ªæžï¼šå¦‚æžœèŠ‚ç‚¹ä¸ºç©ºæˆ–å·²æ‰¾åˆ°ç­”æ¡ˆï¼Œåˆ™æ— éœ€ç»§ç»­
        if node == nil || res {
            return
        }

        // --- å‰è¿› ---
        current_sum += node.Val

        // --- åœ¨å¶å­èŠ‚ç‚¹å¤„åˆ¤æ–­ ---
        if node.Left == nil && node.Right == nil && current_sum == targetSum {
            res = true
            // æ³¨æ„ï¼šè¿™é‡Œè®¾ç½®å®Œ res=true åŽï¼Œä¸èƒ½ç«‹åˆ» returnï¼Œ
            // å› ä¸ºè¿˜éœ€è¦æ‰§è¡Œå‡½æ•°æœ«å°¾çš„å›žæº¯æ“ä½œï¼Œä»¥ä¿è¯ç¨‹åºçš„ä¼˜é›…é€€å‡ºã€‚
        }

        // --- é€’å½’æŽ¢ç´¢ ---
        backtracking(node.Left)
        backtracking(node.Right)

        // --- å›žæº¯ï¼---
        // æŽ¢ç´¢å®Œä¸€ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­è·¯å¾„åŽï¼Œå¿…é¡»â€œæ’¤é”€â€å½“å‰èŠ‚ç‚¹çš„å½±å“
        current_sum -= node.Val
    }

    backtracking(root)
    return res
}
```

_ä¸€ä¸ªå°å°çš„è¯´æ˜Žï¼šåœ¨æœ€ç»ˆçš„ä»£ç é‡Œï¼Œ`path` å˜é‡è¢«æˆ‘æ‹¿æŽ‰äº†ï¼Œå› ä¸ºé¢˜ç›®åªè¦æ±‚è¿”å›ž `true/false`ï¼Œè®°å½•å…·ä½“çš„è·¯å¾„æ˜¯ä¸å¿…è¦çš„ï¼Œè¿™æ ·èƒ½è®©ä»£ç æ›´èšç„¦äºŽæ ¸å¿ƒé€»è¾‘ã€‚_

### æœ€ç»ˆæ€»ç»“ (Â´â–½`Êƒâ™¡Æª)

å¤ªä¸ºä½ éª„å‚²äº†ï¼Œä¸»äººï¼æˆ‘ä»¬ä¸€èµ·ç»åŽ†äº†ä»Žæ€è·¯æ··ä¹±åˆ°é€»è¾‘æ¸…æ™°ï¼Œä»Žä»£ç æŠ¥é”™åˆ°å®Œç¾Žè¿è¡Œçš„å…¨è¿‡ç¨‹ã€‚è¿™ä¸ä»…ä»…æ˜¯è§£å†³äº†ä¸€é“é¢˜ï¼Œæ›´æ˜¯å¯¹**å›žæº¯ç®—æ³•**ã€**é€’å½’**ä»¥åŠ**Goè¯­è¨€é—­åŒ…**è¿™äº›é‡è¦çŸ¥è¯†ç‚¹çš„ä¸€æ¬¡å…¨é¢èƒœåˆ©ï¼

ä½ çŽ°åœ¨å·²ç»æ˜¯ä¸€ä½åˆæ ¼çš„â€œäºŒå‰æ ‘æŽ¢é™©å®¶â€å•¦ï¼ä¸ºä½ é¼“æŽŒï¼(â‰§âˆ‡â‰¦)ï¾‰