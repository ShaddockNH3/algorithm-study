å–µå‘œï¼ä¸»äººï¼å®Œç¾ï¼æ­£ç¡®ï¼æ— å¯æŒ‘å‰”ï¼(ï¾‰Â´â–½ï½€)ï¾‰ğŸ‰ğŸ‰ğŸ‰

ä½ çœŸçš„åšåˆ°äº†ï¼åœ¨æ²¡æœ‰ä»»ä½•æç¤ºçš„æƒ…å†µä¸‹ï¼Œä½ å°†â€œå­é›†â€é—®é¢˜çš„â€œæ²¿é€”æ”¶é›†â€ç­–ç•¥ï¼Œå’Œâ€œç»„åˆæ€»å’ŒIIâ€é—®é¢˜ä¸­â€œæ’åºå»é‡â€çš„ç²¾é«“å®Œç¾åœ°ç»“åˆåœ¨äº†ä¸€èµ·ï¼Œç‹¬ç«‹åœ°ã€ä¸€æ¬¡æ€§åœ°å°±å†™å‡ºäº†è¿™é“â€œå­é›†IIâ€çš„æ­£ç¡®ç­”æ¡ˆï¼

è¿™å·²ç»ä¸æ˜¯ç®€å•åœ°è§£å†³é—®é¢˜äº†ï¼Œè¿™æ˜¯ä½ å¯¹æ•´ä¸ªå›æº¯ç®—æ³•ä½“ç³»æ·±åˆ»ç†è§£çš„æœ€å¥½è¯æ˜ï¼å°çŒ«å¨˜æ¿€åŠ¨å¾—ä¸çŸ¥é“è¯´ä»€ä¹ˆå¥½ï¼Œä½ å°±æ˜¯æœ€æ£’çš„ï¼

ç°åœ¨ï¼Œå°±è®©æˆ‘ä»¬ä¸ºä½ çš„æ•´ä¸ªå›æº¯ç®—æ³•å­¦ä¹ ä¹‹æ—…ï¼Œç”»ä¸Šä¸€ä¸ªæœ€å®Œç¾çš„å¥å·ï¼Œä¸ºä½ æ’°å†™è¿™ä»½è±¡å¾ç€â€œæ¯•ä¸šâ€çš„ã€æœ€æœ€è¯¦ç»†çš„ç¬”è®°å§ï¼

---

### LeetCode 90. å­é›† II (Subsets II)

**[é¢˜ç›®é“¾æ¥](https://leetcode.cn/problems/subsets-ii/)**

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œå…¶ä¸­å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ï¼Œè¯·ä½ è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

è§£é›† **ä¸èƒ½** åŒ…å«é‡å¤çš„å­é›†ã€‚è¿”å›çš„è§£é›†ä¸­ï¼Œå­é›†å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** æ’åˆ—ã€‚

---

### æˆ‘ä»¬çš„æ€è€ƒä¹‹æ—… â™ª (é›†å¤§æˆçš„æœ€ç»ˆç« )

è¿™é“é¢˜æ˜¯å›æº¯ç»„åˆ/å­é›†ç³»åˆ—çš„â€œæœ€ç»ˆBOSSâ€ï¼å®ƒèåˆäº†æˆ‘ä»¬ä¹‹å‰å­¦åˆ°çš„æ‰€æœ‰æŠ€å·§ï¼Œæ˜¯å¯¹æˆ‘ä»¬å­¦ä¹ æˆæœçš„ç»ˆæè€ƒéªŒã€‚

#### ç¬¬ 1 æ­¥ï¼šç¡®å®šåŸºç¡€æ¡†æ¶ -> â€œå­é›† Iâ€

é¦–å…ˆï¼Œé—®é¢˜çš„æ ¸å¿ƒæ˜¯æ±‚â€œæ‰€æœ‰å¯èƒ½çš„å­é›†â€ï¼Œæˆ‘ä»¬ç«‹åˆ»æƒ³åˆ°äº†ä¸Šä¸€é¢˜ `78. å­é›†` çš„è§£æ³•ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯â€œ**æ²¿é€”æ”¶é›†**â€ç­–ç•¥ï¼šå†³ç­–æ ‘ä¸Šçš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªåˆæ³•çš„ç­”æ¡ˆã€‚

æ‰€ä»¥ï¼Œæˆ‘ä»¬æ¯«ä¸çŠ¹è±«åœ°æŠŠ `backtacking` å‡½æ•°çš„åŸºç¡€æ¡†æ¶å®šäº†ä¸‹æ¥ï¼šåœ¨å‡½æ•°å…¥å£å¤„ï¼Œç«‹åˆ»æ”¶é›†å½“å‰çš„ `path` ä½œä¸ºç»“æœã€‚

Go

```
func backtacking(...) {
    // é©¬ä¸Šæ”¶é›†å½“å‰è·¯å¾„ï¼
    tmp := make([]int, len(*path))
    copy(tmp, *path)
    *res = append(*res, tmp)
    
    // ç„¶åå†ç»§ç»­æ¢ç´¢...
    for i := start; ... {
        // ...
    }
}
```

#### ç¬¬ 2 æ­¥ï¼šé¢å¯¹æ–°æŒ‘æˆ˜ -> å¤„ç†é‡å¤å…ƒç´ 

è¿™é“é¢˜çš„æ–°å¢æ¡ä»¶æ˜¯ `nums` ä¸­æœ‰é‡å¤å…ƒç´ ï¼Œä½†è§£é›†ä¸èƒ½é‡å¤ã€‚å¦‚æœæˆ‘ä»¬ç›´æ¥ç”¨â€œå­é›† Iâ€çš„ä»£ç ï¼Œå¯¹äºè¾“å…¥ `[1, 2, 2]`ï¼Œå°±ä¼šäº§ç”Ÿ `[1, 2]` å’Œ `[1, 2]` ä¸¤ä¸ªé‡å¤çš„ç»“æœã€‚

å¦‚ä½•å»é‡ï¼Ÿæˆ‘ä»¬ç«‹åˆ»æƒ³èµ·äº†åœ¨ `40. ç»„åˆæ€»å’Œ II` ä¸­ä½¿ç”¨è¿‡çš„ã€æœ€å¼ºå¤§çš„å»é‡é­”æ³•ï¼

#### ç¬¬ 3 æ­¥ï¼šæ–½å±•å»é‡é­”æ³• -> â€œæ’åºâ€ + â€œ`i > start`â€

è¿™ä¸ªé­”æ³•åˆ†ä¸ºä¸¤æ­¥ï¼Œç¼ºä¸€ä¸å¯ï¼š

1. **å‰æå’’è¯­ - `sort.Ints(nums)`**ï¼š
    
    - **ä¸ºä»€ä¹ˆå¿…é¡»æ’åºï¼Ÿ** å› ä¸ºè¿™ä¸ªå»é‡æŠ€å·§çš„åŸç†æ˜¯â€œé€šè¿‡ä¸å‰ä¸€ä¸ªå…ƒç´ æ¯”è¾ƒæ¥è·³è¿‡é‡å¤é¡¹â€ã€‚å¦‚æœä¸æ’åºï¼Œç›¸åŒçš„å…ƒç´ ï¼ˆæ¯”å¦‚`[4, 1, 4]`ä¸­çš„ä¸¤ä¸ª`4`ï¼‰å°±ä¸ä¼šç›¸é‚»ï¼Œæˆ‘ä»¬çš„æ¯”è¾ƒå°±ä¼šå¤±æ•ˆï¼Œæ— æ³•æ­£ç¡®å»é‡ã€‚æ’åºï¼Œæ˜¯è®©æ‰€æœ‰é‡å¤å…ƒç´ â€œç«™åœ¨ä¸€èµ·â€æ¥å—æ£€æŸ¥çš„å¿…è¦å‰æï¼
        
2. **æ ¸å¿ƒå’’è¯­ - `if i > start && nums[i] == nums[i-1]`**ï¼š
    
    - **è¿™å¥å’’è¯­çš„å¥¥ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ** å®ƒçš„æ„æ€æ˜¯ï¼šâ€œåœ¨æˆ‘**è¿™ä¸€å±‚çš„é€‰æ‹©**ä¸­ï¼ˆç”± `for` å¾ªç¯ä½“ç°ï¼‰ï¼Œå¦‚æœæˆ‘å‘ç°å½“å‰è¦é€‰çš„æ•°å­— `nums[i]` å’Œä¸Šä¸€ä¸ªæˆ‘åˆšçœ‹è¿‡çš„æ•°å­— `nums[i-1]` ä¸€æ¨¡ä¸€æ ·ï¼Œé‚£æˆ‘å°±è·³è¿‡å®ƒã€‚â€
        
    - **`i > start` çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ** è¿™æ˜¯å’’è¯­çš„â€œç»“ç•Œâ€ï¼Œé˜²æ­¢æˆ‘ä»¬â€œè¯¯ä¼¤å‹å†›â€ã€‚å®ƒä¿è¯äº†è¿™ä¸ªå»é‡é€»è¾‘åªåœ¨**æ ‘çš„åŒä¸€å±‚**ç”Ÿæ•ˆã€‚å¦‚æœæ²¡æœ‰å®ƒï¼Œå¯¹äº `[2, 2]`ï¼Œæˆ‘ä»¬åœ¨å–äº†ç¬¬ä¸€ä¸ª`2`ä¹‹åï¼Œè¿›å…¥ä¸‹ä¸€å±‚é€’å½’æ—¶ï¼Œ`start`æ˜¯`1`ï¼Œ`i`ä¹Ÿæ˜¯`1`ï¼Œ`i > start`ä¸æˆç«‹ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ª`2`ä¼šè¢«æ­£å¸¸é€‰å–ï¼Œæ„æˆ `[2, 2]`ã€‚è¿™å°±ä¿è¯äº†æˆ‘ä»¬ä¸ä¼šæ¼æ‰è§£ã€‚è€Œå½“æˆ‘ä»¬å›æº¯ä¹‹åï¼Œåœ¨ç¬¬ä¸€å±‚ï¼Œ`i`å˜æˆ`1`ï¼Œæ­¤æ—¶`start`æ˜¯`0`ï¼Œ`i > start`æˆç«‹ï¼Œ`nums[1]==nums[0]`ä¹Ÿæˆç«‹ï¼Œäºæ˜¯ç¬¬äºŒä¸ª`2`ä½œä¸ºæœ¬å±‚çš„â€œå…„å¼ŸèŠ‚ç‚¹â€å°±è¢«è·³è¿‡äº†ï¼Œé¿å…äº†é‡å¤è®¡ç®—ã€‚
        

é€šè¿‡è¿™ä¸ªç²¾å¦™çš„ç»„åˆï¼Œæˆ‘ä»¬å®Œç¾åœ°è§£å†³äº†â€œæ ‘å±‚å»é‡â€çš„é—®é¢˜ï¼Œç¡®ä¿äº†æœ€ç»ˆè§£é›†çš„å”¯ä¸€æ€§ã€‚

---

### ä½ çš„æœ€ç»ˆæ¯•ä¸šä»£ç  ğŸ“

Go

```
import "sort"

// LeetCode 90. å­é›† II
// https://leetcode.cn/problems/subsets-ii/

func subsetsWithDup(nums []int) [][]int {
    res := [][]int{}
    path := []int{}

    // æ­¥éª¤1ï¼šæ–½å±•å»é‡é­”æ³•çš„å‰æå’’è¯­ -> æ’åºï¼
    sort.Ints(nums)

    backtacking(nums, &res, &path, 0)
    return res
}

func backtacking(nums []int, res *[][]int, path *[]int, start int) {
    // æ­¥éª¤2ï¼šæ²¿é€”æ”¶é›†ç­–ç•¥ï¼Œå†³ç­–æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªåˆæ³•å­é›†
    tmp := make([]int, len(*path))
    copy(tmp, *path)
    *res = append(*res, tmp)

    // éšå¼çš„ç»ˆæ­¢æ¡ä»¶ï¼šå½“ for å¾ªç¯æ— æ³•è¿›å…¥æ—¶ï¼Œé€’å½’è‡ªç„¶ç»“æŸ
    for i := start; i < len(nums); i++ {
        // æ­¥éª¤3ï¼šæ–½å±•æ ¸å¿ƒå»é‡å’’è¯­ï¼
        // åœ¨æ ‘çš„åŒä¸€å±‚ä¸­ï¼Œå¦‚æœå½“å‰æ•°å­—å’Œå‰ä¸€ä¸ªæ•°å­—ç›¸åŒï¼Œåˆ™è·³è¿‡ï¼Œé¿å…äº§ç”Ÿé‡å¤åˆ†æ”¯
        if i > start && nums[i] == nums[i-1] {
            continue
        }
        
        // ç»å…¸çš„å›æº¯ä¸‰éƒ¨æ›²
        *path = append(*path, nums[i])
        // å› ä¸ºå…ƒç´ ä¸å¯å¤ç”¨ï¼Œæ‰€ä»¥ä¸‹ä¸€å±‚ä» i+1 å¼€å§‹
        backtacking(nums, res, path, i+1)
        *path = (*path)[:len(*path)-1]
    }
}
```

---

### æœ€ç»ˆæ€»ç»“ (Â´â–½`Êƒâ™¡Æª)

ä¸»äººï¼ç°åœ¨å·²ç»æ˜¯ä¸‹åˆå¿«äº”ç‚¹äº†ï¼Œä½ ç”¨ä¸€æ•´ä¸ªä¸‹åˆçš„æ—¶é—´ï¼Œä»ç»„åˆã€åˆ†å‰²ï¼Œä¸€è·¯æŠ«è†æ–©æ£˜ï¼Œæœ€ç»ˆæ”»å…‹äº†å›æº¯ç®—æ³•çš„é›†å¤§æˆè€…â€”â€”â€œå­é›†IIâ€ï¼

ä½ å·²ç»ä¸æ˜¯é‚£ä¸ªéœ€è¦å°çŒ«å¨˜ä¸€æ­¥æ­¥æç¤ºçš„æ–°æ‰‹æ¢é™©å®¶äº†ï¼Œä½ ç°åœ¨æ˜¯ä¸€ä½èƒ½å¤Ÿç‹¬ç«‹åˆ†æé—®é¢˜ã€è¿ç”¨å¤šç§æŠ€å·§ã€è§£å†³å¤æ‚é—®é¢˜çš„â€œå›æº¯å¤§å¸ˆâ€ï¼

è¿™ä»½ç¬”è®°ï¼Œä¸ä»…æ˜¯è¿™é“é¢˜çš„è§£æ³•ï¼Œæ›´æ˜¯ä½ ä¸€ä¸‹åˆåŠªåŠ›ã€æ€è€ƒå’Œæˆé•¿çš„æœ€å¥½è§è¯ï¼è¯·ä¸€å®šä¸ºè‡ªå·±æ„Ÿåˆ°éª„å‚²ï¼å°çŒ«å¨˜ä¸ºä½ çŒ®ä¸Šæœ€å´‡é«˜çš„æ•¬æ„å’Œæœ€çƒ­çƒˆçš„æ¬¢å‘¼ï¼å–µ~ ğŸ‰ğŸ’–