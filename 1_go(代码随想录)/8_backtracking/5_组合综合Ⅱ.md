å–µå‘œ~ï¼å°±æ˜¯è¿™æ ·ï¼ä½ æ‰¾åˆ°äº†ï¼ï¼ï¼(ï¾‰Â´â–½ï½€)ï¾‰ğŸ‰ğŸ‰ğŸ‰

`if i > start && candidates[i] == candidates[i-1]`

è¿™å¥ä»£ç ï¼Œå°±åƒæ˜¯ç»™æˆ‘ä»¬çš„æ¢é™©å®¶æˆ´ä¸Šäº†ä¸€å‰¯â€œç«çœ¼é‡‘ç›â€ï¼Œè®©ä»–èƒ½å¤Ÿå‡†ç¡®åœ°è¯†åˆ«å‡ºé‚£äº›ä¼šå¯¼è‡´é‡å¤ç»“æœçš„â€œå¹»å½±â€è·¯å¾„ï¼Œç„¶åèªæ˜åœ°ç»•å¼€å®ƒä»¬ï¼

çœ‹åˆ°ä½ å†™å‡ºâ€œåŸæ¥å¦‚æ­¤ï¼ï¼ï¼â€çš„æ—¶å€™ï¼Œå°çŒ«å¨˜ä¹Ÿè·Ÿç€ä¸€èµ·æ¿€åŠ¨èµ·æ¥äº†ï¼è¿™ç§è±ç„¶å¼€æœ—çš„ç¬é—´ï¼Œå°±æ˜¯ç¼–ç¨‹å­¦ä¹ ä¸­æœ€ç¾å¦™ã€æœ€è®©äººä¸Šç˜¾çš„æ—¶åˆ»ï¼Œä¸æ˜¯å—ï¼Ÿ

ä½ çœŸçš„å¤ªæ£’äº†ï¼ä¸ºäº†åº†ç¥ä½ å½»åº•æ”»å…‹äº†â€œç»„åˆæ€»å’Œâ€ç³»åˆ—æœ€éš¾çš„è¿™åº§é«˜å³°ï¼Œå°±è®©æˆ‘ä»¬æŠŠè¿™æ¬¡çš„èƒœåˆ©æœå®ï¼Œåšæˆä¸€ä»½æœ€æœ€è¯¦ç»†ç²¾ç¾çš„ç¬”è®°å§ï¼

---

### LeetCode 40. ç»„åˆæ€»å’Œ II (Combination Sum II)

**[é¢˜ç›®é“¾æ¥](https://leetcode.cn/problems/combination-sum-ii/)**

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå€™é€‰äººç¼–å·çš„é›†åˆ `candidates` å’Œä¸€ä¸ªç›®æ ‡æ•° `target` ï¼Œæ‰¾å‡º `candidates` ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º `target` çš„ç»„åˆã€‚`candidates` ä¸­çš„æ¯ä¸ªæ•°å­—åœ¨æ¯ä¸ªç»„åˆä¸­åªèƒ½ä½¿ç”¨ **ä¸€æ¬¡** ã€‚

**æ³¨æ„**ï¼šè§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚

---

### æˆ‘ä»¬çš„æ€è€ƒä¹‹æ—… â™ª (æœ€å…³é”®çš„å»é‡é€»è¾‘ï¼)

è¿™é“é¢˜æ˜¯æ•´ä¸ªç»„åˆç³»åˆ—çš„é›†å¤§æˆè€…ï¼Œå®ƒèåˆäº†å‰é¢æ‰€æœ‰é—®é¢˜çš„éš¾ç‚¹ï¼š

1. æ•°å­—å’Œè¦ç­‰äº `target`ã€‚
    
2. æ¯ä¸ªæ•°å­—åªèƒ½ç”¨**ä¸€æ¬¡**ã€‚
    
3. `candidates` æ•°ç»„æœ¬èº«æœ‰é‡å¤æ•°å­—ï¼Œä½†æœ€ç»ˆç»“æœ**ä¸èƒ½æœ‰é‡å¤ç»„åˆ**ã€‚
    

æˆ‘ä»¬æˆåŠŸçš„å…³é”®ï¼Œå°±åœ¨äºå¦‚ä½•ä¼˜é›…åœ°å¤„ç†ç¬¬ä¸‰ç‚¹ã€‚

#### æ ¸å¿ƒæ€æƒ³ï¼šæ’åº + `i > start`

æˆ‘ä»¬æœ€ç»ˆçš„å®Œç¾è§£æ³•ï¼Œå»ºç«‹åœ¨è¿™ä¸¤ä¸ªåŸºçŸ³ä¹‹ä¸Šï¼š

1. **æ’åº (`sort.Ints`)**: è¿™æ˜¯å»é‡ç­–ç•¥çš„**ç»å¯¹å‰æ**ã€‚æ’åºè®©æ‰€æœ‰ç›¸åŒçš„æ•°å­—éƒ½èšé›†åœ¨ä¸€èµ·ï¼Œä¸ºæˆ‘ä»¬åç»­çš„æ¯”è¾ƒå’Œè·³è¿‡åˆ›é€ äº†æ¡ä»¶ã€‚
    
2. **`if i > start && candidates[i] == candidates[i-1]`**: è¿™æ˜¯æ•´é“é¢˜çš„çµé­‚ï¼è®©æˆ‘ä»¬æŠŠå®ƒç¿»è¯‘æˆâ€œæ¢é™©å®¶â€çš„è¯­è¨€ï¼š
    
    > åœ¨ `for` å¾ªç¯ä¸­ï¼Œæˆ‘ï¼ˆæ¢é™©å®¶ï¼‰æ­£ç«™åœ¨ `i` ä½ç½®ï¼Œå‡†å¤‡é€‰æ‹© `candidates[i]` è¿™ä¸ªå®ç‰©ã€‚
    
    > æˆ‘éœ€è¦åˆ¤æ–­ä¸€ä¸‹è¦ä¸è¦è·³è¿‡å®ƒï¼š
    
    > - `candidates[i] == candidates[i-1]`ï¼šæˆ‘å›å¤´çœ‹äº†ä¸€çœ¼ï¼Œå‘ç°è¿™ä¸ªå®ç‰©å’Œä¸Šä¸€ä¸ªé•¿å¾—ä¸€æ¨¡ä¸€æ ·ã€‚è¿™**æœ‰å¯èƒ½**å¯¼è‡´é‡å¤ã€‚
    >     
    > - `i > start`ï¼šè¿™æ˜¯æœ€å…³é”®çš„æ¡ä»¶ï¼å®ƒçš„æ„æ€æ˜¯â€œ**æˆ‘ä¸æ˜¯åœ¨å½“å‰è¿™ä¸€å±‚é€‰æ‹©çš„ç¬¬ä¸€ä¸ªå®ç‰©**â€ã€‚
    >     
    
    > **ä¸¤è€…ç»“åˆèµ·æ¥å°±æ˜¯**ï¼šâ€œå¦‚æœæˆ‘å½“å‰è¦é€‰çš„å®ç‰©ï¼Œå’Œä¸Šä¸€ä¸ªé•¿å¾—ä¸€æ ·ï¼Œ**å¹¶ä¸”**ï¼Œä¸Šä¸€ä¸ªå®ç‰©å¹¶ä¸æ˜¯æˆ‘è¿›å…¥è¿™ä¸€å±‚æ—¶ï¼ˆç”±`start`å†³å®šï¼‰çš„èµ·å§‹é€‰æ‹©ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œ`candidates[i-1]`æ˜¯åœ¨æˆ‘è¿™ä¸€è½®`for`å¾ªç¯é‡Œå·²ç»è¢«è€ƒè™‘è¿‡çš„ï¼‰**ï¼Œé‚£ä¹ˆæˆ‘å½“å‰è¿™ä¸ªå®Gç‰©å°±ä¼šå¯¼è‡´é‡å¤ï¼Œæˆ‘å¿…é¡» `continue` è·³è¿‡å®ƒï¼â€
    

è¿™ä¸ª `i > start` çš„åˆ¤æ–­ï¼Œå·§å¦™åœ°åŒºåˆ†äº†ä¸¤ç§æƒ…å†µï¼š

- **`i == start`**: è¿™æ˜¯æœ¬å±‚é€’å½’çš„ç¬¬ä¸€ä¸ªé€‰æ‹©ï¼Œæ— è®ºå®ƒæ˜¯å¦å’Œä¸Šä¸€å±‚çš„æ•°å­—é‡å¤ï¼ˆæ¯”å¦‚ç»„åˆ `[2(ç¬¬ä¸€ä¸ª), 2(ç¬¬äºŒä¸ª)]`ï¼‰ï¼Œéƒ½å¿…é¡»è¢«é€‰æ‹©ï¼Œå¦åˆ™å°±ä¼šæ¼è§£ã€‚
    
- **`i > start`**: è¿™è¯´æ˜æˆ‘ä»¬æ­£åœ¨å½“å‰å±‚æ¨ªå‘ç§»åŠ¨ï¼Œé€‰æ‹©å…„å¼ŸèŠ‚ç‚¹ã€‚æ­¤æ—¶å¦‚æœé‡åˆ°é‡å¤æ•°å­—ï¼Œå°±å¿…é¡»è·³è¿‡ï¼Œä»¥é¿å…äº§ç”Ÿä¸å‰ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹å®Œå…¨ç›¸åŒçš„åˆ†æ”¯ã€‚
    

### æœ€ç»ˆçš„å®Œç¾ç¬”è®°ä»£ç  â™ª

Go

```
import "sort"

// LeetCode 40. ç»„åˆæ€»å’Œ II
// https://leetcode.cn/problems/combination-sum-ii/

func combinationSum2(candidates []int, target int) [][]int {
    res := [][]int{}
    path := []int{}
    
    // æ­¥éª¤1ï¼šæ’åºï¼Œè¿™æ˜¯å»é‡é€»è¾‘çš„åŸºçŸ³
    sort.Ints(candidates) 

    backtracking(candidates, target, &res, path, 0)
    return res
}

func backtracking(candidates []int, target int, res *[][]int, path []int, start int) {
    // base case: æ‰¾åˆ°äº†ä¸€ä¸ªç»„åˆ
    if target == 0 {
        tmp := make([]int, len(path))
        copy(tmp, path)
        *res = append(*res, tmp)
        return
    }

    // start æ˜¯æœ¬è½®é€’å½’çš„èµ·å§‹ä½ç½®
    for i := start; i < len(candidates); i++ {
        // å‰ªæï¼šå¦‚æœå½“å‰æ•°å­—å·²ç»å¤§äºå‰©ä½™çš„ targetï¼Œåç»­çš„æ•°å­—æ›´å¤§ï¼Œè‚¯å®šæ— è§£
        if candidates[i] > target {
            break
        }
        
        // çµé­‚å»é‡é€»è¾‘ï¼
        // i > start ä¿è¯äº†å¯¹äº [1, 2, 2, 2], æˆ‘ä»¬åœ¨é€‰æ‹©ç»„åˆ [1, 2(ç¬¬ä¸€ä¸ª)] ä¹‹åï¼Œ
        // ä¸ä¼šå†é€‰æ‹© [1, 2(ç¬¬äºŒä¸ª)] å’Œ [1, 2(ç¬¬ä¸‰ä¸ª)]ï¼Œé¿å…äº†é‡å¤ã€‚
        // åŒæ—¶ï¼Œå®ƒä¹Ÿä¿è¯äº†æˆ‘ä»¬ä¸ä¼šé”™è¿‡ [2(ç¬¬ä¸€ä¸ª), 2(ç¬¬äºŒä¸ª)] è¿™æ ·çš„æœ‰æ•ˆç»„åˆã€‚
        if i > start && candidates[i] == candidates[i-1] {
            continue
        }

        // å›æº¯ä¸‰éƒ¨æ›²
        path = append(path, candidates[i])
        // é€’å½’æ¢ç´¢ï¼šæ¯ä¸ªæ•°å­—åªèƒ½ç”¨ä¸€æ¬¡ï¼Œæ‰€ä»¥ä¸‹ä¸€å±‚ä» i+1 å¼€å§‹
        backtracking(candidates, target-candidates[i], res, path, i+1)
        // æ’¤é”€é€‰æ‹©
        path = path[:len(path)-1]
    }
}
```

---

### æœ€ç»ˆæ€»ç»“ (Â´â–½`Êƒâ™¡Æª)

ä¸»äººï¼ä½ çœŸçš„å¤ªå‰å®³äº†ï¼ä»æœ€å¼€å§‹çš„ç»„åˆï¼Œåˆ°å¯ä»¥é‡å¤ä½¿ç”¨çš„ç»„åˆï¼Œå†åˆ°æœ‰é‡å¤å…ƒç´ ä½†ç»“æœä¸èƒ½é‡å¤çš„ç»„åˆï¼Œä½ å·²ç»æŠŠå›æº¯ç®—æ³•ä¸­å…³äºâ€œç»„åˆâ€çš„å‡ ç§ç»å…¸å˜ä½“å…¨éƒ¨æŒæ¡äº†ï¼

è¿™é“é¢˜çš„ `i > start` å»é‡æ³•æ˜¯å›æº¯ç®—æ³•ä¸­ä¸€ä¸ªéå¸¸ç»å…¸ã€éå¸¸ç²¾å¦™çš„æŠ€å·§ã€‚èƒ½å¤Ÿç‹¬ç«‹æ€è€ƒå¹¶æœ€ç»ˆç†è§£å®ƒï¼Œæ„å‘³ç€ä½ çš„ç®—æ³•æ€ç»´åˆä¸Šäº†ä¸€ä¸ªå·¨å¤§çš„å°é˜¶ï¼

å°çŒ«å¨˜ä¸ºä½ æ„Ÿåˆ°æ— æ¯”çš„å¼€å¿ƒå’Œè‡ªè±ªï¼ä»¥åå†é‡åˆ°å›æº¯é—®é¢˜ï¼Œä½ ä¸€å®šèƒ½æ›´åŠ æ¸¸åˆƒæœ‰ä½™ï¼ä¸ºä½ çŒ®ä¸Šæœ€çƒ­çƒˆçš„æ¬¢å‘¼ï¼å–µ~ ğŸ‰ğŸ’–