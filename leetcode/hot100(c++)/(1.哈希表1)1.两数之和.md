https://leetcode.cn/problems/two-sum/description/?envType=study-plan-v2&envId=top-100-liked
### æœ´ç´ çš„æƒ³æ³•

æœ€æœ´ç´ çš„æƒ³æ³•å°±æ˜¯åˆ©ç”¨ä¸¤å±‚çš„å¾ªç¯è¿›è¡Œéå†æ±‚è§£ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºæ˜¯ç¬¬ä¸€æ¬¡åˆ·leetcodeï¼Œæ‰€ä»¥å¹¶ä¸çŸ¥é“è¦æ‰€æœ‰æƒ…å†µéƒ½è¦æœ‰è¿”å›ï¼ˆå³ä½¿é¢˜ç›®çš„æ•°æ®ä¿è¯äº†å¿…ç„¶æœ‰è¿”å›ï¼Œä½†æ˜¯ä¸ºäº†é˜²æ­¢ç”¨æˆ·è¾“å…¥éæ³•çš„æ•°æ®ï¼‰

æ—¶é—´å¤æ‚åº¦$O(n^2)$

```cpp
class Solution {
public:
    vector<int> twoSum(vector<int>& nums, int target) {
        vector<int> answer(2,-1);

        int length=std::size(nums);
        for(int i=0;i<length;i++){
            for(int j=i+1;j<length;j++){
                if(nums[i]+nums[j]==target){
                    answer[0]=i;
                    answer[1]=j;
                }
            }
        }
        return answer;
    }
};
```

### å¿«æ’+äºŒåˆ†

æœ¬æ¥å¦ä¸€ç§æƒ³æ³•æ˜¯æƒ³å…ˆè¿›è¡Œå¿«æ’ï¼Œç„¶åå†äºŒåˆ†æŸ¥æ‰¾ï¼Œä»£ç å®ç°å¦‚ä¸‹ï¼Œä½†æ˜¯è¿™ç§çš„æ€è·¯ç”šè‡³ä¸å¦‚ä¸Šé¢æœ€æœ´ç´ çš„æƒ³æ³•ã€‚

```cpp
class Solution {
public:

    struct Num {
        int id;
        int val;
    };

    int partition(Num a[], int p, int r) {
        int i = p - 1, j = r;
        Num v = a[r];
        for (;;) {
            while (a[++i].val < v.val);
            while (v.val < a[--j].val) {
                if (j == p) break;
            }
            if (i >= j) break;
            swap(a[i], a[j]);
        }
        swap(a[i], a[r]);
        return i;
    }

    void quicksort(Num a[], int p, int r) {
        if (r <= p) return;
        int q = partition(a, p, r);
        quicksort(a, p, q - 1);
        quicksort(a, q + 1, r);
    }

    int binary_search(Num a[], int p, int r, int num, int excludeIndex) {
        while (p <= r) {
            int mid = (p + r) >> 1;
            if (num == a[mid].val && mid != excludeIndex) {
                return mid;
            } else if (num < a[mid].val || (num == a[mid].val && mid == excludeIndex)) {
                r = mid - 1;
            } else {
                p = mid + 1;
            }
        }
        return -1;
    }

    vector<int> twoSum(vector<int>& nums, int target) {
        vector<int> answer(2, -1);

        int length = nums.size();
        Num tt[length];
        for (int i = 0; i < length; i++) {
            tt[i].id = i;
            tt[i].val = nums[i];
        }

        quicksort(tt, 0, length - 1);

        for (int i = 0; i < length; i++) {
            int current_num = tt[i].val;
            int want_num = target - current_num;

            int j = binary_search(tt, 0, length - 1, want_num, i);

            if (j != -1) {
                answer[0] = tt[i].id;
                answer[1] = tt[j].id;
                return answer;
            }
        }
        return answer;
    }
};
```
### åˆ©ç”¨å“ˆå¸Œè¡¨çš„å­˜å‚¨æ–¹å¼

stlåº“é‡Œ`unordered_map`çš„åº•å±‚å®ç°åŸç†æ˜¯çº¢é»‘æ ‘ï¼Œè®¿é—®ä»¥åŠ**æŸ¥è¯¢**éƒ½å¯ä»¥åœ¨$O(1)$çš„æ—¶é—´å†…å®ç°ã€‚

è¿™é‡Œéœ€è¦æ³¨æ„çš„ç”±äºæ•£åˆ—å‡½æ•°çš„å­˜åœ¨ï¼Œå“ˆå¸Œè¡¨çš„æŸ¥è¯¢çš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯$O(1)$ï¼Œä½†æ˜¯å¯¹äºæ•°ç»„è€Œè¨€ï¼Œæ²™é€Šçš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯$O(n)$ã€‚æ‰€ä»¥å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œä¼˜åŒ–ã€‚

é¦–å…ˆéå†æ•°ç»„ï¼Œå¹¶ä¸”åœ¨å“ˆå¸Œè¡¨é‡Œ**æŸ¥è¯¢**è¿™ä¸ªæ•°æœ‰æ²¡æœ‰æ‰€å¯¹åº”çš„å¯ä»¥æ˜¯çš„æ„æˆtargetçš„æ•°ã€‚å¦‚æœæŸ¥è¯¢åˆ°äº†ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›å³å¯ï¼Œå¦‚æœæ²¡æŸ¥è¯¢åˆ°ï¼Œå°†è¿™ä¸ªæ•°å‹å…¥å“ˆå¸Œè¡¨é‡Œã€‚

```cpp
class Solution {
public:
    vector<int> twoSum(vector<int>& nums, int target) {
        unordered_map<int,int> hasmap;

        for(int i=0;i<nums.size();i++){
            int comp=target-nums[i];

            if(hasmap.count(comp)){
                return {hasmap[comp],i};
            }
            hasmap[nums[i]]=i; 
            //æ³¨æ„æ˜¯æŠŠåŸæ¥çš„æ•°ç»™å‹å…¥å“ˆå¸Œè¡¨
        }
        return {};
    }
};
```


### Arranging with deepseek

ï¼ˆæŠ–æŠ–è€³æœµç¿»å¼€ç¬”è®°æœ¬ï¼‰ä¸»äººè¿™æ¬¡çš„ç¬”è®°å¥½è®¤çœŸå–µï¼è®©æœ¬çŒ«å¨˜å¸®æ‚¨æ¢³ç†æ€è·¯å§ï½ï¼ˆæå‡ºç²‰è‰²å°æ¢³å­å¼€å§‹æ•´ç†ï¼‰

---

### **è§£æ³•é€»è¾‘æ ‘æ¢³ç†**
**ğŸŒ³ æ–¹æ³•ä¸€ï¼šæš´åŠ›åŒå¾ªç¯**
```markdown
ä¼˜ç‚¹ï¼š
- ç›´è§‚æ˜“æ‡‚ï¼Œé€‚åˆå°è§„æ¨¡æ•°æ®
- ç©ºé—´å¤æ‚åº¦O(1)

ç¼ºç‚¹ï¼š
- å­˜åœ¨å†—ä½™è®¡ç®—ï¼Œæ—¶é—´å¤æ‚åº¦O(nÂ²)
- æœªåŠæ—¶ä¸­æ–­å¾ªç¯ï¼ˆå‘ç°è§£ååº”ç«‹åˆ»returnï¼‰

ä¼˜åŒ–å»ºè®®ï¼š
åœ¨ifæ¡ä»¶æˆç«‹åç«‹å³è¿”å›ï¼Œé¿å…æ— æ•ˆéå†ï¼š
```cpp
if(nums[i]+nums[j]==target){
    return {i, j}; // ç›´æ¥è¿”å›
}
```

**ğŸŒ³ æ–¹æ³•äºŒï¼šå¿«æ’+äºŒåˆ†**
```markdown
ä¼˜ç‚¹ï¼š
- æ—¶é—´å¤æ‚åº¦O(nlogn)ä¼˜äºæš´åŠ›æ³•

éšè—é—®é¢˜ï¼š
1. ç»“æ„ä½“æ’åºéœ€è¦é¢å¤–O(n)ç©ºé—´
2. å¤„ç†é‡å¤å…ƒç´ æ—¶éœ€æ’é™¤è‡ªèº«ï¼ˆä»£ç å·²å¤„ç†ï¼‰
3. å®é™…å·¥ç¨‹ä¸­æ’åº+äºŒåˆ†çš„æ—¶é—´å¸¸æ•°å¯èƒ½æ¯”å“ˆå¸Œæ³•å¤§

æ ¸å¿ƒçŸ›ç›¾ç‚¹ï¼š
è™½ç„¶ç†è®ºå¤æ‚åº¦ä¼˜äºæš´åŠ›æ³•ï¼Œä½†å› ä»¥ä¸‹åŸå› è¡¨ç°å¯èƒ½ä¸ä½³ï¼š
- æ’åºç ´ååŸå§‹ç´¢å¼•éœ€è¦é¢å¤–å­˜å‚¨
- äºŒåˆ†æŸ¥æ‰¾çš„æ¡ä»¶åˆ†æ”¯è¾ƒå¤š
```

**ğŸŒ³ æ–¹æ³•ä¸‰ï¼šå“ˆå¸Œè¡¨æ³•ï¼ˆæœ€ä¼˜è§£ï¼‰**
```markdown
ä¼˜ç‚¹ï¼š
- å¹³å‡æ—¶é—´å¤æ‚åº¦O(n)
- å•æ¬¡éå†å³å¯å®Œæˆ

å…³é”®ä¿®æ­£ï¼š
âŒ "unordered_mapåº•å±‚æ˜¯çº¢é»‘æ ‘" â†’ âœ… **å“ˆå¸Œè¡¨**
ï¼ˆmapæ‰æ˜¯çº¢é»‘æ ‘å®ç°ï¼Œunordered_mapæ˜¯å“ˆå¸Œæ¡¶ï¼‰

ç²¾å¦™ä¹‹å¤„ï¼š
```cpp
hasmap[nums[i]] = i; // å…ˆæ£€æŸ¥åæ’å…¥ï¼Œé¿å…è‡ªé‡å¤
```
å¤„ç†æ¡ˆä¾‹[3,3]æ—¶ï¼š
- ç¬¬ä¸€ä¸ª3å­˜å…¥å‰æ£€æŸ¥å“ˆå¸Œè¡¨ä¸ºç©º
- ç¬¬äºŒä¸ª3æ£€æŸ¥æ—¶å‘ç°å·²æœ‰3ï¼ˆæ­¤æ—¶å­˜å…¥çš„æ˜¯ç¬¬ä¸€ä¸ª3çš„ç´¢å¼•ï¼‰

æ—¶é—´å¤æ‚åº¦ç»†åˆ†ï¼š
- å¹³å‡æƒ…å†µï¼šnæ¬¡å“ˆå¸Œæ“ä½œ Ã— O(1) = O(n)
- æœ€åæƒ…å†µï¼šæ‰€æœ‰å…ƒç´ ç¢°æ’ â†’ O(nÂ²)

---

### **å¯¹æ¯”è¡¨æ ¼**
| æ–¹æ³•         | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | é€‚ç”¨åœºæ™¯         |
|--------------|------------|------------|------------------|
| æš´åŠ›åŒå¾ªç¯   | O(nÂ²)      | O(1)       | æ•°æ®é‡æå°       |
| æ’åº+äºŒåˆ†    | O(nlogn)   | O(n)       | ä¸å…è®¸ä¿®æ”¹åŸæ•°ç»„ |
| å“ˆå¸Œè¡¨æ³•     | O(n)       | O(n)       | é€šç”¨æœ€ä¼˜è§£       |

---

### **é«˜é¢‘è€ƒç‚¹æ€»ç»“**
1. **é‡å¤å…ƒç´ å¤„ç†**  
   - å“ˆå¸Œè¡¨æ³•å¤©ç„¶è§„é¿ç›¸åŒå…ƒç´ é‡å¤ä½¿ç”¨
   - æ’åºæ³•éœ€åœ¨äºŒåˆ†æ—¶æ’é™¤å½“å‰ç´¢å¼•

2. **å“ˆå¸Œå‡½æ•°é€‰æ‹©**  
   - C++å¯¹intçš„å“ˆå¸Œæ˜¯å®Œç¾å“ˆå¸Œï¼ˆæ— ç¢°æ’ï¼‰
   - è‡ªå®šä¹‰ç±»å‹éœ€ç‰¹åŒ–std::hash

3. **è¾¹ç•Œæµ‹è¯•ç”¨ä¾‹**  
   ```cpp
   // Case 1: å­˜åœ¨è´Ÿæ•°
   nums = [-3,4,9], target = 6 â†’ [-3,9]
   // Case 2: ç­”æ¡ˆå…ƒç´ ç›¸åŒ
   nums = [3,3], target = 6 â†’ [0,1]
   // Case 3: ç­”æ¡ˆéç›¸é‚»
   nums = [2,5,5,11], target=10 â†’ [1,2]

---

### **å·¥ç¨‹ä¼˜åŒ–æŠ€å·§**
1. **é¢„åˆ†é…ç©ºé—´**  
   ```cpp
   hasmap.reserve(nums.size()); // é¿å…æ‰©å®¹å¼€é”€
   ```
2. **ä¸€æ¬¡éå†å®Œæˆ**  
   è¾¹éå†è¾¹æ£€æŸ¥ï¼Œæ— éœ€äºŒæ¬¡æ‰«æ

3. **å¼‚å¸¸å¤„ç†**  
   é¢˜ç›®ä¿è¯æœ‰è§£ï¼Œä½†å®é™…å·¥ç¨‹åº”å¤„ç†æ— è§£æƒ…å†µï¼š
   ```cpp
   throw std::runtime_error("No solution");
   ```

ï¼ˆçªç„¶ä»å±å¹•é‡Œé€’å‡ºå°é±¼å¹²ï¼‰ä¸»äººçš„ç¬”è®°å·²ç»å¾ˆå®Œæ•´å•¦ï¼åªè¦è¡¥ä¸Šè¿™äº›é—ªé—ªå‘äº®çš„å°ç»†èŠ‚ï¼Œå°±æ˜¯æ»¡åˆ†æ”»ç•¥äº†å–µï½(â‰§âˆ‡â‰¦)ï¾‰